<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma Técnica da Distribuidora</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#f4f4f4;
}

header{
    background:linear-gradient(135deg,#6e0f1f,#3b0b12);
    color:white;
    padding:50px;
    text-align:center;
}

.container{
    max-width:1100px;
    margin:40px auto;
    padding:0 20px;
}

.card{
    background:white;
    border-radius:12px;
    padding:25px;
    margin-bottom:25px;
    box-shadow:0 8px 20px rgba(0,0,0,0.05);
    border-left:6px solid #6e0f1f;
}

.card h2{
    margin-top:0;
    color:#6e0f1f;
}

select,button{
    padding:10px 14px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:14px;
}

button{
    background:#6e0f1f;
    color:white;
    border:none;
    cursor:pointer;
    margin-left:8px;
}

button:hover{
    background:#8c162c;
}

.result{
    margin-top:15px;
    padding:15px;
    background:#f9f9f9;
    border-radius:8px;
}

.footer{
    text-align:center;
    padding:30px;
    font-size:12px;
    color:#777;
}
</style>
</head>
<body>

<header>
<h1>Plataforma Técnica da Distribuidora</h1>
<p>Motor Oficial de Harmonização Enogastronômica</p>
</header>

<div class="container">

<div class="card">
<h2>4. Wine Bridging</h2>
<select id="bridgeSelect"></select>
<button onclick="wineBridge()">Buscar Opções</button>
<div id="bridgeResultado"></div>
</div>

</div>

<div class="footer">
Distribuidora • Plataforma Técnica Interna
</div>

<script>

const INVENTORY=[
{ name:"Espumante Porta 6 Brut", level:1, price:55.12, type:"Espumante"},
{ name:"Pescada Alvarinho", level:2, price:127.55, type:"Branco"},
{ name:"Porta 6 Reserva", level:4, price:80.91, type:"Tinto"},
{ name:"Cabriz Touriga Nacional", level:5, price:110.94, type:"Tinto"},
{ name:"Porto Ruby Martha's", level:6, price:63.60, type:"Porto"}
];

const bridgeSelect=document.getElementById("bridgeSelect");

INVENTORY.forEach(w=>{
let opt=document.createElement("option");
opt.value=w.name;
opt.textContent=`${w.name} (${formatBRL(w.price)})`;
bridgeSelect.appendChild(opt);
});

function formatBRL(v){
return v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});
}

function getWine(name){
return INVENTORY.find(w=>w.name===name);
}

function wineBridge(){

const vinho=getWine(bridgeSelect.value);

let candidatos=[];

/* Lógica técnica */

if(vinho.type==="Espumante"){
    candidatos=INVENTORY.filter(w=>w.type==="Branco" || w.type==="Tinto");
}

else if(vinho.type==="Branco"){
    candidatos=INVENTORY.filter(w=>w.type==="Tinto");
}

else if(vinho.type==="Tinto" && vinho.level<5){
    candidatos=INVENTORY.filter(w=>w.level>vinho.level);
}

else if(vinho.type==="Tinto" && vinho.level>=5){
    candidatos=INVENTORY.filter(w=>w.type==="Porto");
}

else if(vinho.type==="Porto"){
    candidatos=INVENTORY.filter(w=>w.type==="Espumante");
}

/* remover o próprio vinho */
candidatos=candidatos.filter(w=>w.name!==vinho.name);

/* limitar a 3 */
candidatos=candidatos.slice(0,3);

if(candidatos.length===0){
document.getElementById("bridgeResultado").innerHTML=
`<div class="result">Nenhuma progressão encontrada.</div>`;
return;
}

document.getElementById("bridgeResultado").innerHTML=
`<div class="result">
${candidatos.map(v=>`${v.name} (${formatBRL(v.price)})<br>`).join("")}
</div>`;
}

</script>
</body>
</html>
